<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=Dancing+Script:wght@700&family=Playfair+Display:wght@700&family=Great+Vibes&family=Pacifico&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #7c3aed;
            --accent: #f472b6;
            --background: #0f172a;
            --text: #f8fafc;
            --gold: #ffd700;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--background);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .main-container {
            position: relative;
            z-index: 2;
            min-height: 100vh;
            display: grid;
            place-items: center;
            padding: 2rem;
        }

        .container {
            width: min(90%, 800px);
            margin: 2rem auto;
            padding: 2.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.05);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--secondary));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .container:hover::before {
            transform: scaleX(1);
        }

        .container:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 
                0 15px 45px rgba(0, 0, 0, 0.2),
                0 0 0 2px rgba(255, 255, 255, 0.1);
        }

        h1, h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        h1 {
            background: linear-gradient(135deg, var(--gold), #fff, var(--gold));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .message {
            font-size: 1.35rem;
            line-height: 1.7;
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            position: relative;
        }

        .wheel-container {
            position: relative;
            width: 350px;
            height: 350px;
            margin: 3rem auto;
            perspective: 1000px;
        }

        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                #60a5fa 0deg 45deg,
                #f472b6 45deg 90deg,
                #34d399 90deg 135deg,
                #fbbf24 135deg 180deg,
                #f87171 180deg 225deg,
                #818cf8 225deg 270deg,
                #c084fc 270deg 315deg,
                #fb923c 315deg 360deg
            );
            position: relative;
            transform-style: preserve-3d;
            transition: transform 4s cubic-bezier(0.075, 0.82, 0.165, 1);
            box-shadow: 
                0 0 30px rgba(0, 0, 0, 0.3),
                0 0 60px rgba(255, 255, 255, 0.1);
            border: 10px solid rgba(255, 255, 255, 0.1);
        }

        .wheel::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            background: radial-gradient(circle at center, transparent 60%, rgba(0, 0, 0, 0.3));
        }

        .arrow {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--gold), #fff);
            clip-path: polygon(50% 100%, 0 0, 100% 0);
            filter: drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25));
            z-index: 2;
        }

        button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 1.2rem 2.5rem;
            font-size: 1.2rem;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Outfit', sans-serif;
            font-weight: 500;
            display: block;
            margin: 2rem auto;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.2),
                0 0 0 2px rgba(255, 255, 255, 0.1);
        }

        button:hover::before {
            transform: translateX(100%);
        }

        .typing-container {
            background: rgba(255, 255, 255, 0.05);
            padding: 3rem;
            border-radius: 20px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            line-height: 1.8;
            white-space: pre-wrap;
            margin: 2rem 0;
            border: 2px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.05);
        }

        .typing-cursor {
            display: inline-block;
            width: 3px;
            height: 1.5em;
            background-color: var(--accent);
            margin-left: 2px;
            animation: blink 1s infinite;
        }

        .gift-box {
            width: 150px;
            height: 150px;
            margin: 2rem auto;
            position: relative;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 1s ease;
        }

        .gift-box.opened {
            transform: rotateX(180deg);
        }

        .gift-lid {
            position: absolute;
            top: -20px;
            width: 100%;
            height: 20px;
            background: var(--accent);
            transform-origin: bottom;
            transition: transform 0.5s ease;
        }

        .gift-box.opened .gift-lid {
            transform: rotateX(-180deg);
        }

        .gift-body {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            position: relative;
        }

        .gift-ribbon {
            position: absolute;
            width: 30px;
            height: 100%;
            background: var(--accent);
            left: 50%;
            transform: translateX(-50%);
        }

        .hidden {
            display: none;
            opacity: 0;
            transform: translateY(20px);
        }

        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background-color: var(--accent);
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(720deg);
            }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* Firecracker Animation */
        .firecracker {
            position: fixed;
            width: 10px;
            height: 10px;
            background: radial-gradient(circle, #ff0 0%, #f00 100%);
            border-radius: 50%;
            pointer-events: none;
            animation: explode 1s forwards;
        }

        @keyframes explode {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(3);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 1.5rem;
            }

            h1 {
                font-size: 3rem;
            }

            h2 {
                font-size: 2.5rem;
            }

            .wheel-container {
                width: 280px;
                height: 280px;
            }

            .typing-container {
                font-size: 1.4rem;
                padding: 2rem;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--primary), var(--secondary));
            border-radius: 5px;
        }

        /* Loading Animation */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--background);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loader-content {
            width: 50px;
            height: 50px;
            border: 5px solid var(--accent);
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Letter Styles */
        .letter-container {
            perspective: 1000px;
            margin: 2rem auto;
            width: 90%;
            max-width: 600px;
        }

        .letter {
            position: relative;
            width: 100%;
            min-height: 400px;
            background: url('/api/placeholder/600/400') center/cover;
            transform-style: preserve-3d;
            transform-origin: top center;
            transition: transform 1.5s ease;
            padding: 40px;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        .letter::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.95);
            border-radius: inherit;
        }

        .letter.folded {
            transform: rotateX(-90deg);
        }

        .poem-content {
            position: relative;
            font-family: 'Great Vibes', cursive;
            font-size: 1.8rem;
            line-height: 1.8;
            color: #2c3e50;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }

        /* Sparkle Effect */
        .sparkle {
            position: absolute;
            pointer-events: none;
            background: radial-gradient(circle, #fff 0%, transparent 70%);
            border-radius: 50%;
            mix-blend-mode: screen;
            animation: sparkle-fade 1s ease forwards;
        
        }

        .sparkle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, #fff 0%, transparent 70%);
            border-radius: 50%;
            mix-blend-mode: screen;
            animation: sparkle-fade 1s ease forwards;
        }

        @keyframes sparkle-fade {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }

        /* Wax Seal */
        .wax-seal {
            position: absolute;
            bottom: 30px;
            right: 40px;
            width: 60px;
            height: 60px;
            background: #c0392b;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Playfair Display', serif;
            color: #fff;
            font-size: 24px;
            transform: rotate(-15deg);
            box-shadow: 3px 3px 5px rgba(0,0,0,0.2);
        }

        .wax-seal::before {
            content: '';
            position: absolute;
            width: 90%;
            height: 90%;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
        }

         /* Responsive Design */
         @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 1.5rem;
            }

            h1, h2 {
                font-size: 2.5rem;
            }

            .wheel-container {
                width: 250px;
                height: 250px;
            }
        }
       
    </style>
</head>
<body>
    <div class="loader">
        <div class="loader-content"></div>
    </div>

    <div id="particles-js"></div>
    
    <div class="main-container">
        <div class="container animate__animated animate__fadeIn" id="intro">
            <h1 class="animate__animated animate__bounceIn">üéâ Happy Birthday! üéÇ</h1>
            <div class="message">Get ready for a magical celebration just for you...</div>
            <button onclick="showPage('messagePage')">Begin Your Journey</button>
        </div>

        <div class="container hidden" id="messagePage">
            <h2>‚ú® A Special Message</h2>
            <div class="message">
                Today, the stars align to celebrate someone extraordinary - YOU! 
                Let's embark on a magical journey filled with surprises and joy!
            </div>
            <button onclick="showPage('wheelPage')">Discover More</button>
        </div>

        <div class="container hidden" id="wheelPage">
            <h2>üé° Wheel of Wishes</h2>
            <div class="wheel-container">
                <div class="arrow"></div>
                <div class="wheel" id="wheel"></div>
                <div class="wheel-marker"></div>
            </div>
            <button class="spin-button" onclick="spinWheel()">Make a Wish</button>
            <p id="wheelResult" class="hidden message">‚ú® A magical surprise awaits you! ‚ú®</p>
            <button id="nextButton" class="hidden" onclick="showPage('giftPage')">Open Your Gift</button>
        </div>

        <div class="container hidden" id="giftPage">
            <h2>üéÅ Your Birthday Letter</h2>
            <div class="letter-container">
                <div class="letter folded">
                    <div class="poem-content" id="poem"></div>
                    <div class="wax-seal">HB</div>
                </div>
            </div>
            <button onclick="showPage('finalPage')">Continue the Magic</button>
        </div>

        <div class="container hidden" id="finalPage">
            <h2>üéä Celebration Time! üéä</h2>
            <div class="message">
                May this year be filled with endless possibilities, 
                extraordinary adventures, and countless moments of pure joy!
                <br><br>
                Here's to making every moment count! üåà
            </div>
            <button onclick="restartCelebration()">Celebrate Again</button>
        </div>
    </div>

    <script>
        // Particle.js configuration and initialization
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                document.querySelector('.loader').style.display = 'none';
            }, 1500);
            
            initParticles();
        });

        function initParticles() {
            const particlesContainer = document.getElementById('particles-js');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.cssText = `
                    position: absolute;
                    width: ${Math.random() * 3 + 1}px;
                    height: ${Math.random() * 3 + 1}px;
                    background: rgba(255, 255, 255, ${Math.random() * 0.5 + 0.25});
                    border-radius: 50%;
                    top: ${Math.random() * 100}vh;
                    left: ${Math.random() * 100}vw;
                    animation: float ${Math.random() * 10 + 5}s linear infinite;
                `;
                particlesContainer.appendChild(particle);
            }
        }

        // Enhanced page transitions
        function showPage(pageId) {
            const timeline = gsap.timeline();
            
            timeline.to('.container:not(.hidden)', {
                opacity: 0,
                y: -30,
                scale: 0.95,
                duration: 0.5,
                ease: "power2.inOut",
                onComplete: () => {
                    document.querySelectorAll('.container').forEach(page => {
                        page.classList.add('hidden');
                    });
                    
                    const newPage = document.getElementById(pageId);
                    newPage.classList.remove('hidden');
                    
                    gsap.fromTo(newPage, 
                        { 
                            opacity: 0, 
                            y: 30, 
                            scale: 0.95 
                        },
                        { 
                            opacity: 1, 
                            y: 0, 
                            scale: 1, 
                            duration: 0.7,
                            ease: "power2.out"
                        }
                    );

                    if (pageId === 'giftPage') {
                        typePoem();
                    }
                    if (pageId === 'finalPage') {
                        createConfetti();
                        startFireworks();
                    }
                }
            });
        }

        // Enhanced wheel spinning animation
        function spinWheel() {
            const wheel = document.getElementById('wheel');
            const resultText = document.getElementById('wheelResult');
            const nextButton = document.getElementById('nextButton');
            const spinButton = document.querySelector('.spin-button');
            
            spinButton.disabled = true;
            
            const spins = 5;
            const degrees = spins * 360 + Math.floor(Math.random() * 360);
            
            gsap.to(wheel, {
                rotation: `+=${degrees}`,
                duration: 5,
                ease: "power4.out",
                onComplete: () => {
                    createSparkles(wheel);
                    gsap.fromTo([resultText, nextButton], 
                        { 
                            opacity: 0, 
                            y: 20,
                            scale: 0.9
                        },
                        { 
                            opacity: 1, 
                            y: 0,
                            scale: 1,
                            duration: 0.7,
                            stagger: 0.2,
                            ease: "back.out(1.7)",
                            onStart: () => {
                                resultText.classList.remove('hidden');
                                nextButton.classList.remove('hidden');
                            }
                        }
                    );

                    // Create firecrackers when the wheel is spun
                    for (let i = 0; i < 5; i++) {
                        createFirecracker(Math.random() * window.innerWidth, Math.random() * window.innerHeight);
                    }
                }
            });
        }

        // Enhanced poem typing animation
        function typePoem() {
            const letter = document.querySelector('.letter');
            const poemContent = document.querySelector('.poem-content');
            
            // Unfold letter first
            setTimeout(() => {
                letter.classList.remove('folded');
                createSparkles(letter);
            }, 500);

            // Start typing after unfolding
            setTimeout(() => {
                poemContent.style.opacity = '1';
                poemContent.style.transform = 'translateY(0)';
                
                const poem = `Dearest Friend,\n

On this special day of yours,\n
Like stars that light the evening sky,\n
Each moment sparkles bright and new,\n
As another year goes gracefully by.\n

May your path be lined with joy,\n
Your heart be light and free,\n
Every dream you dare to chase,\n
Become a beautiful reality.\n

Happy Birthday! 
With love and warmest wishes,
üåü‚ú®`;
                
                let charIndex = 0;
                poemContent.innerHTML = '';

                function type() {
                    if (charIndex < poem.length) {
                        const char = poem.charAt(charIndex);
                        const span = document.createElement('span');
                        span.textContent = char;
                        span.style.opacity = '0';
                        poemContent.appendChild(span);

                        gsap.to(span, {
                            opacity: 1,
                            duration: 0.1,
                            ease: "none",
                            onComplete: () => {
                                if (Math.random() > 0.9) {
                                    createSparkles(span);
                                }
                            }
                        });

                        charIndex++;
                        setTimeout(type, 50);
                    }
                }

                type();
            }, 1500);
        }

        // Gift box animation
        function openGift() {
            const giftBox = document.querySelector('.gift-box');
            if (!giftBox.classList.contains('opened')) {
                giftBox.classList.add('opened');
                createSparkles(giftBox);
                setTimeout(() => {
                    const confettiCount = 50;
                    for (let i = 0; i < confettiCount; i++) {
                        createConfettiPiece(giftBox);
                    }
                }, 500);
            }
        }

        // Create sparkle effect
        function createSparkles(element) {
            const rect = element.getBoundingClientRect();
            const sparkleCount = 20;
            
            for (let i = 0; i < sparkleCount; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.cssText = `
                    position: absolute;
                    width: 4px;
                    height: 4px;
                    background: #fff;
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 1000;
                `;
                
                document.body.appendChild(sparkle);
                
                const angle = (i / sparkleCount) * Math.PI * 2;
                const radius = 50 + Math.random() * 30;
                const startX = rect.left + rect.width / 2;
                const startY = rect.top + rect.height / 2;
                
                gsap.fromTo(sparkle,
                    {
                        x: startX,
                        y: startY,
                        scale: 0
                    },
                    {
                        x: startX + Math.cos(angle) * radius,
                        y: startY + Math.sin(angle) * radius,
                        scale: 1.5,
                        duration: 0.8,
                        ease: "power2.out",
                        opacity: 0,
                        onComplete: () => sparkle.remove()
                    }
                );
            }
        }

        // Enhanced confetti animation
        function createConfetti() {
            const colors = ['#60a5fa', '#f472b6', '#34d399', '#fbbf24', '#f87171', '#818cf8', '#ffd700'];
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 50);
            }
        }

        // Fireworks effect
        function startFireworks() {
            const fireworksContainer = document.createElement('div');
            fireworksContainer.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1000;
            `;
            document.body.appendChild(fireworksContainer);
            
            function createFirework() {
                const firework = document.createElement('div');
                firework.className = 'firework';
                const startX = Math.random() * window.innerWidth;
                const endX = startX + (Math.random() - 0.5) * 200;
                const endY = Math.random() * window.innerHeight * 0.5;
                
                gsap.fromTo(firework,
                    {
                        x: startX,
                        y: window.innerHeight,
                        scale: 0.5,
                        opacity: 1
                    },
                    {
                        x: endX,
                        y: endY,
                        scale: 0,
                        opacity: 0,
                        duration: 2,
                        ease: "power2.out",
                        onComplete: () => {
                            createExplosion(endX, endY);
                            firework.remove();
                        }
                    }
                );
                
                fireworksContainer.appendChild(firework);
            }
            
            const fireworksInterval = setInterval(createFirework, 1000);
            setTimeout(() => {
                clearInterval(fireworksInterval);
                fireworksContainer.remove();
            }, 10000);
        }

        function createExplosion(x, y) {
            const particles = 30;
            const colors = ['#ff0', '#f0f', '#0ff', '#fff'];
            
            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework-particle';
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                const angle = (i / particles) * Math.PI * 2;
                const velocity = 100 + Math.random() * 50;
                
                gsap.fromTo(particle,
                    {
                        x: x,
                        y: y,
                        scale: 1,
                        opacity: 1
                    },
                    {
                        x: x + Math.cos(angle) * velocity,
                        y: y + Math.sin(angle) * velocity,
                        scale: 0,
                        opacity: 0,
                        duration: 1,
                        ease: "power2.out",
                        onComplete: () => particle.remove()
                    }
                );
                
                document.body.appendChild(particle);
            }
        }

        function createFirecracker(x, y) {
            const firecracker = document.createElement('div');
            firecracker.className = 'firecracker';
            firecracker.style.left = `${x}px`;
            firecracker.style.top = `${y}px`;
            document.body.appendChild(firecracker);

            setTimeout(() => {
                createExplosion(x, y);
                firecracker.remove();
            }, 1000);
        }

        function restartCelebration() {
            document.querySelectorAll('.confetti, .firework, .firework-particle').forEach(el => el.remove());
            showPage('intro');
        }
    </script>
</body>
</html>
